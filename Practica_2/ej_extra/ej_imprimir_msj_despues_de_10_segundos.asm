TIMER EQU 10h
EOI EQU 20h
TIMER EQU 10h
EOI EQU 20h
IMR EQU 21h
INT1 EQU 25h
ID_CLK EQU 10

ORG 40
IP_CLK DW RUT_CLK

ORG 1000h
  MSJ DB "Hola!"
  FIN_MSJ DB ?

ORG 3000H
RUT_CLK: PUSH AX
  MOV BX, OFFSET MSJ
  MOV AL, OFFSET FIN_MSJ - OFFSET MSJ
  INT 7
  MOV AL, 0
  OUT TIMER, AL
  MOV AL, EOI
  OUT EOI, AL
  POP AX
  IRET
  
ORG 2000H
  CLI
    MOV AL, 0fdh ; 1111 1101
    OUT IMR, AL
    MOV AL, ID_CLK
    OUT INT1, AL
    MOV AL, 10
    OUT TIMER+1, AL
    MOV AL, 0
    OUT TIMER, AL
  STI
LOOP: JMP LOOP
  INT 0
END